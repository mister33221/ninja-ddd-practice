<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header bg-dark text-light d-flex justify-content-between align-items-center">
          <h3 class="mb-0">
            <i class="bi bi-person-circle"></i> 會員資料
          </h3>
          <button class="btn btn-outline-light" (click)="toggleEdit()">
            <i class="bi" [ngClass]="isEditing ? 'bi-check-circle' : 'bi-pencil'"></i>
            {{ isEditing ? '修改完成' : '修改個人資料' }}
          </button>
        </div>
        <div class="card-body">
          <form [formGroup]="editForm" (ngSubmit)="onSubmit()">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="email" class="form-label">
                  <i class="bi bi-envelope"></i> 電子郵件
                </label>
                <input type="text" class="form-control" id="email" formControlName="email" placeholder="請輸入電子郵件" readonly>
              </div>
              <div class="col-md-6 mb-3">
                <label for="username" class="form-label">
                  <i class="bi bi-person"></i> 用戶名
                </label>
                <input type="text" class="form-control" id="username" formControlName="username" placeholder="請輸入用戶名">
                <div *ngIf="editForm.get('username')?.invalid && editForm.get('username')?.touched" class="text-danger">
                  用戶名至少需要3個字符
                </div>
              </div>
            </div>
            <div class="mb-3">
              <label for="fullName" class="form-label">
                <i class="bi bi-person-badge"></i> 全名
              </label>
              <input type="text" class="form-control" id="fullName" formControlName="fullName" placeholder="請輸入全名">
            </div>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="phoneNumber" class="form-label">
                  <i class="bi bi-telephone"></i> 電話號碼
                </label>
                <input type="tel" class="form-control" id="phoneNumber" formControlName="phoneNumber" placeholder="請輸入電話號碼">
                <div *ngIf="editForm.get('phoneNumber')?.invalid && editForm.get('phoneNumber')?.touched" class="text-danger">
                  請輸入有效的10位電話號碼
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="dateOfBirth" class="form-label">
                  <i class="bi bi-calendar"></i> 出生日期
                </label>
                <input type="date" class="form-control" id="dateOfBirth" formControlName="dateOfBirth">
              </div>
            </div>
            <div class="mb-3">
              <label for="address" class="form-label">
                <i class="bi bi-house"></i> 地址
              </label>
              <textarea class="form-control" id="address" formControlName="address" rows="3" placeholder="請輸入地址"></textarea>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
